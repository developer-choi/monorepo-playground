## 사용자 경험 고려사항

### 모든 API 상태에 대한 UI 대응
모든 API 호출에 대해 3가지 상태를 고려하여 구현했습니다:

- **에러**: ErrorPageTemplate 컴포넌트로 에러 메시지 제공
- **엣지케이스**: EmptyContent로 "목록이 없습니다" 안내
- **로딩**: LoadingPage 컴포넌트로 대기 상태 표시

이를 통해 사용자가 어떤 상황에서도 현재 상태를 명확히 인지할 수 있도록 했습니다.

## 언제 로딩을 넣어야 할까요?

### 처리에 시간이 걸리는 모든 작업에는 로딩을 넣어야 합니다.
로딩 없이 화면이 그대로 있으면 사용자는 "내가 액션을 하긴 한 건가?"라고 오해할 수 있습니다.

사용자가 어떤 액션을 했다면, 그 액션에 대한 피드백을 줘야  **"아, 내가 한 액션이 반영되었구나"를 알 수 있습니다.**
> 그 피드백 중 하나가 로딩일 뿐입니다.

### 반대로, 너무 빠른 작업엔 로딩이 오히려 해가 됩니다
0.1초 만에 완료되는 작업이라면 즉각적인 화면 변화 자체가 피드백이 되고,

그 짧은 사이에 로딩이 보이면 오히려 화면 깜빡임처럼 느껴집니다.

### 예시
대부분의 API는 로딩이 필요합니다.
- 페이지 접근 시
- 버튼 클릭 시 (로그인, 게시글 생성, 삭제 등)

일부 동작은 로딩을 없앨 수 있습니다. (시스템 차원에서 빠른속도를 목표로 잡은 경우)
- 네이버 홈 검색폼에 a 타이핑 시 "A형 독감" 이라는 검색결과 목록이 나오는 동작
- 검색결과 목록 분석 내용 전체는 [최고의 검색결과 목록이란 무엇인가](https://github.com/developer-choi/monorepo-playground/pull/3) 링크에서 확인하실 수 있습니다.

---

## 왜 에러 페이지를 노출해야 할까요?
에러가 발생했으니까. 사용자에게 안내를 해줘야 하니까.
어떻게 노출해야 하나요?
원인 - 해결방법 - 탈출수단 3박자로 구성했습니다.

원인: "네트워크 연결이 불안정합니다"
해결방법: "인터넷 연결을 확인해 주세요"
탈출수단: "다시 시도" 버튼 또는 "홈으로 가기" 버튼

전체 분석 내용은 [프론트엔드 에러 처리 로드맵: 7 Steps](https://github.com/developer-choi/developer-choi/blob/main/docs/error-handling/step2.md) 링크에서 확인하실 수 있습니다.

--

## 빈 목록도 피드백이 필요합니다
리스트 렌더링할 때 자주 실수하는 게, 배열이 0개이면 아무것도 안 나온다는 점입니다.

사용자는 이게 "목록이 없어서 안 나온 건지", "로딩 중인지", "에러인지" 알 수 없습니다.

```typescript jsx
// ❌ 나쁜 예
{products.map(product => <ProductCard />)}

// ✅ 좋은 예
{products.length === 0 ? (
  <EmptyContent message="상품 목록이 존재하지 않습니다." />
) : (
  products.map(product => <ProductCard />)
)}
```

---

## 정리
위 처리들은 API 하나당 필요한 처리들입니다.

API가 수십 개인 경우 이 내용들을 수십 번 처리해야 하기 때문에 중복 코드가 발생합니다.

이를 해결하기 위한 패턴과 추상화 방법은 여기에서 확인할 수 있습니다.